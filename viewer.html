<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>GalerÃ­a | VJOX</title>
<style>
  :root{--bg:#0f0f10;--card:#16171a;--muted:#8a8f98;--text:#fff;--accent:#22c55e}
  *{box-sizing:border-box}body{margin:0;font-family:system-ui,Segoe UI,Inter,Roboto,Arial;background:var(--bg);color:var(--text)}
  header{padding:16px;border-bottom:1px solid #222}
  main{max-width:900px;margin:0 auto;padding:16px;display:grid;gap:16px}
  .title{font-size:20px;font-weight:700}
  .muted{color:var(--muted)}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px}
  .card{background:var(--card);border:1px solid #26272b;border-radius:14px;padding:12px}
  .img{width:100%;aspect-ratio:1/1;object-fit:cover;border-radius:10px;border:1px solid #2a2d33}
  .pill{display:inline-block;margin-top:8px;font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid #2a2d33;background:#121316}
  .cta{display:flex;gap:10px}
  button{cursor:pointer;border:1px solid #3a3d44;background:#1a1c20;color:#fff;padding:12px 14px;border-radius:10px}
  .whats{background:#25D366;border-color:#128C7E;color:#062d1e;font-weight:700}
  footer{padding:16px;text-align:center;color:var(--muted);font-size:12px}
</style>
</head>
<body>
<header><strong>VJOX Â· GalerÃ­a</strong></header>
<main>
  <div>
    <div class="title" id="t"></div>
    <div class="muted" id="d"></div>
  </div>
  <div class="card">
    <div id="prices" class="muted" style="margin-bottom:8px"></div>
    <div id="g" class="grid"></div>
    <div class="cta" style="margin-top:12px">
      <button class="whats" id="askBtn">Pedir por WhatsApp</button>
      <button id="copyBtn">Copiar link</button>
    </div>
  </div>
</main>
<footer>Hecho con â™¥ | VJOX</footer>

<script>
function decodeStateFromHash() {
  const h = location.hash || "";
  const m = h.match(/[#&?]s=([^&]+)/);
  if (!m) return null;

  let b64 = decodeURIComponent(m[1]);

  // Aceptar Base64URL (lo que mandamos desde el publicador)
  b64 = b64.replace(/-/g, '+').replace(/_/g, '/');
  while (b64.length % 4) b64 += '=';   // padding si falta

  try {
    const json = atob(b64);
    return JSON.parse(json);
  } catch (e) {
    console.error("Error decodificando estado:", e);
    return null;
  }
}

const STATE = decodeStateFromHash();
if (!STATE || !Array.isArray(STATE.u) || STATE.u.length === 0) {
  document.body.insertAdjacentHTML(
    'afterbegin',
    '<div style="padding:12px;margin:12px;background:#222;border:1px solid #333;border-radius:8px">' +
    'No se pudo cargar la galerÃ­a. Revisa que el enlace estÃ© completo.' +
    '</div>'
  );
} else {
  // ðŸ‘‰ AquÃ­ ya usas STATE.t / STATE.d / STATE.u / STATE.pp para renderizar las tarjetas
}
</script>




</body>
</html>
